<!-- 定义JBoltTable使用的数据渲染模板 -->
<textarea class="jb_tpl_box" id="UserOrg_tpl_#(pageId)">
    {@each datas as data,index}
    <tr data-id="${data.id}">
        <td>${pageNumber,pageSize,index | rownum}</td>
        <td>${data.name}</td>
        <td>${data.cpsnName}</td>
        <td>${data.cpsnNum}</td>
        <td>${data.isex|sex}</td>
        <td>${data.cpsnmobilephone}</td>
        <td>${data.cpsnemail}</td>
        <td>${data.position}</td>
        <td><img data-switchbtn data-value="${data.isPrincipal}" data-handler="switchEditableTd"/></td>
        <td>${data.parentPsnName}</td>
        <td>${data.versionNum}</td>
    </tr>
    {@/each}
</textarea>

<div class="jbolt_table_toolbar" id="UserOrg_toolbar_#(pageId)">

    <div class="btn-group btn-group-sm" role="group" aria-label="btn-group">
        <button onclick="jboltTableInsertEmptyRow(this)" class="btn btn-outline-primary btn-sm" ><i class="fa fa-plus"></i> 新增</button>
        <button onclick="jboltTableRemoveCheckedRow(this,true)" class="btn btn-outline-danger btn-sm"><i class="fa fa-trash"></i> 删除</button>
        <button onclick="jboltTableRefresh(this,'刷新会丢失新添加未保存的数据，确认刷新吗？')" class="btn btn-outline-success btn-sm"><i class="fa fa-refresh"></i> 刷新</button>
    </div>

</div>

<table class="jbolt_table jbolt_main_table  table-center "
       id="jbolt_Table_#(pageId)1"
       data-jbolttable
       data-width="auto"
       data-height="300"
       data-ajax="true"
       data-column-prepend="1:checkbox:true"
       ###data-conditions-form="UserOrg_form_#(pageId)"
       #if(user.id??)
       data-url="admin/userorg/list?userId=#(user.id??)"
       #else
       data-autoload="false"
       #end
       data-rowtpl="UserOrg_tpl_#(pageId)"
       data-copy-to-excel="false"
       data-column-resize="true"
       data-toolbar="UserOrg_toolbar_#(pageId)"
       data-editable="true"
       data-editable-option="getEditableTableOptions_#(pageId)1"
>
    <thead>
    <tr>
        <th data-width="60" data-column="index">序号</th>
        <th data-width="200" data-column="orgId">组织账套</th>
        <th data-width="100" data-column="ipersonid">人员</th>
        <th data-width="100" data-column="cpsnNum">编码</th>
        <th data-width="100" data-column="isex">性别</th>
        <th data-width="120" data-column="cpsnmobilephone">手机号</th>
        <th data-width="120" data-column="cpsnemail">邮箱</th>
        <th data-width="150" data-column="position">职位</th>
        <th data-width="100" data-column="isPrincipal">负责人标识</th>
        <th data-width="100" data-column="parentPsnId">直接上级</th>
        <th data-width="100" data-column="versionNum">版本号</th>
    </tr>
    </thead>
    <tbody></tbody>
</table>