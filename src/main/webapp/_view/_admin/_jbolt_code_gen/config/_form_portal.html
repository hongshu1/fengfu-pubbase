#if(colDatas==null || (colDatas.size()==1 && colDatas[0].datas.size()==0))
	<div class="alert alert-danger m-auto">未设置任何属性用表单编辑</div>
#else
<div class="row">
#for(colData:colDatas)
<div class="col#((colData.col!=null && colData.col>0)?('-md-'+colData.col):'') form_control_box" >
### 挨个判断组件类型生成对应组件
#for(col:colData.datas)
	#@switchColType?(colData.isFormGroupRow,colData.modelName,colData.labelWidth,colData.formControlWidth,col)
#end
</div>
#end
</div>
#end

### 根据UIType字符串 生成input类型html
#define genInputTypeByUiTypeStr(isFormGroupRow,modelName,formControlWidth,col)
#switch (col.formUiType)
#case ("input")
#setLocal(type = "text")
#case ("password")
#setLocal(type = "password")
#case ("number")
#setLocal(type = "number")
#default
#setLocal(type = "text")
#end
#if(isFormGroupRow)
<div class="col-#((col.formEleWidth!=null && col.formEleWidth>0)?col.formEleWidth:(formControlWidth?? 10))">
#end
#if(col.formUiType == "textarea")
<textarea style="height:100px;" #if(col.dataRule!=null || col.isRequired) data-rule="#(col.dataRule?? (col.isRequired?'required':''))" #end data-notnull="#(col.isRequired)" #if(col.dataTips)data-tips="#(col.dataTips)"#end data-with-clearbtn="true" autocomplete="off"  class="form-control"  #if(col.required) data-rule="required" #end placeholder="请输入#(col.formLabel)" maxlength="#(col.maxLength?? '200')" name="#(modelName).#(col.attrName)"></textarea>
#else 
<input type="#(type?? 'text')"  #if(col.formUiType == "calculator")data-with-calculator#end  #if(col.dataRule!=null || col.isRequired) data-rule="#(col.dataRule?? (col.isRequired?'required':''))" #end data-notnull="#(col.isRequired)" #if(col.dataTips)data-tips="#(col.dataTips)"#end data-with-clearbtn="true" autocomplete="off"  class="form-control"  #if(col.required) data-rule="required" #end placeholder="请输入#(col.formLabel)" maxlength="#(col.maxLength?? '40')" name="#(modelName).#(col.attrName)" />
#end
#if(isFormGroupRow)
</div>
#end
#end

### 根据UIType字符串 生成form-group div 开始的html
#define genFormGroupDivStart(isFormGroupRow,formControlWidth,col,hasTagEnd)
<div class="form-group #(isFormGroupRow?'row':'')"  data-form-ele-width="#(col.formEleWidth?? (formControlWidth?? 10))" data-form-control-width="#(formControlWidth?? 10)" draggable="true" data-id="#(col.id)" #if(hasTagEnd)>#end
#end
### 根据UIType字符串 生成html5 date input类型html
#define genHtml5DateInputByUiTypeStr(isFormGroupRow,modelName,formControlWidth,col)
#switch (col.formUiType)
#case ("input_date")
#setLocal(type = "date")
#case ("input_time")
#setLocal(type = "time")
#case ("input_datetime")
#setLocal(type = "datetime-local")
#case ("input_month")
#setLocal(type = "month")
#case ("input_week")
#setLocal(type = "week")
#default
#setLocal(type = "date")
#end
#if(isFormGroupRow)
<div class="col-#((col.formEleWidth!=null && col.formEleWidth>0)?col.formEleWidth:(formControlWidth?? 10))">
#end
<input type="#(type?? 'date')" #if(col.dataRule!=null || col.isRequired) data-rule="#(col.dataRule?? (col.isRequired?'required':''))" #end data-notnull="#(col.isRequired)" #if(col.dataTips)data-tips="#(col.dataTips)"#end data-with-clearbtn="true" autocomplete="off"  class="form-control"  #if(col.required) data-rule="required" #end placeholder="请输入#(col.formLabel)" maxlength="#(col.maxLength?? '40')" name="#(modelName).#(col.attrName)" />
#if(isFormGroupRow)
</div>
#end
#end


### 根据UIType字符串 生成Autocomplete类型html
#define genAutocompleteByUiTypeStr(isFormGroupRow,modelName,formControlWidth,col)
	#if(isFormGroupRow)
	<div class="col-#((col.formEleWidth!=null && col.formEleWidth>0)?col.formEleWidth:(formControlWidth?? 10))">
	#end
	<input type="text" data-autocomplete autocomplete="off" 
	#if(col.formDataValueAttr)
	data-value-attr="#(col.formDataValueAttr)"
	#end
	#if(col.formDataTextAttr)
	data-text-attr="#(col.formDataTextAttr)"
	#end
	#if(col.formDataColumnAttr)
	data-column-attr="#(col.formDataColumnAttr)"
	#end
	data-url="#(col.formDataValue??)"
	data-hidden-input="#(col.attrName)_hidden" 
	class="form-control" 
	placeholder="请选择#(col.formLabel)"
	#if(col.dataRule!=null || col.isRequired) data-rule="#(col.dataRule?? (col.isRequired?'select':''))" #end
	data-notnull="#(col.isRequired)" 
	#if(col.dataTips)data-tips="#(col.dataTips)"#end
	maxlength="#(col.attrLength?? 200)"/>
	<input type="hidden" autocomplete="off" id="#(col.attrName)_hidden" 
	#if(col.dataRule!=null || col.isRequired) data-rule="#(col.dataRule?? (col.isRequired?'select':''))" #end
	data-notnull="#(col.isRequired)" 
	#if(col.dataTips)data-tips="#(col.dataTips)"#end
	name="#(modelName).#(col.attrName)"
	maxLength="#(col.attrLength?? '20')"/>
	#if(isFormGroupRow)
	</div>
	#end

#end

### 根据UIType字符串 生成JBoltInput类型html
#define genJBoltInputByUiTypeStr(isFormGroupRow,modelName,formControlWidth,col)
#switch (col.formUiType)
#case ("jboltinput")
#setLocal(type = "ajaxportal") 
#case ("jboltinput_jstree")
#setLocal(type = "jstree")
#case ("jboltinput_table")
#setLocal(type = "table")
#default
#setLocal(type = "ajaxportal")
#end
	#if(isFormGroupRow)
	<div class="xxx col-#((col.formEleWidth!=null && col.formEleWidth>0)?col.formEleWidth:(formControlWidth?? 10))">
	#end
	<input type="text" data-jboltinput autocomplete="off" 
	data-load-type="#(type?? 'ajaxportal')"
	data-url="#(col.formDataValue??)"
	#if(col.formJboltinputFilterHandler??)
	data-filter-handler="#(col.formJboltinputFilterHandler)"
	#end
	#if(col.isFormJboltinputJstreeCheckbox??)
	data-jstree-checkbox="true"
	#end
	#if(col.isFormJboltinputJstreeOnlyLeaf??)
	data-onlyleaf="true"
	#end
	class="form-control" 
	data-hidden-input="#(col.attrName)_hidden" 
	data-height="300"
	data-url="#(col.formDataValue??)"
	placeholder="请选择#(col.formLabel)"
	#if(col.dataRule!=null || col.isRequired) data-rule="#(col.dataRule?? (col.isRequired?'select':''))" #end
	data-notnull="#(col.isRequired)" 
	#if(col.dataTips)data-tips="#(col.dataTips)"#end
	maxlength="#(col.attrLength?? 200)"
	/>
	<input type="hidden" autocomplete="off" id="#(col.attrName)_hidden" 
	#if(col.dataRule!=null || col.isRequired) data-rule="#(col.dataRule?? (col.isRequired?'select':''))" #end
	data-notnull="#(col.isRequired)" 
	#if(col.dataTips)data-tips="#(col.dataTips)"#end
	name="#(modelName).#(col.attrName)"
	maxLength="#(col.attrLength?? '20')"/>
	#if(isFormGroupRow)
	</div>
	#end

#end




### 根据UIType字符串 生成select类型html
#define genSelectByUiTypeStr(isFormGroupRow,modelName,formControlWidth,col)
#switch (col.formUiType)
#case ("select")
#setLocal(type = "select") 
#setLocal(multi = false) 
#case ("select_multi")
#setLocal(type = "select")
#setLocal(multi = true) 
#case ("select2")
#setLocal(type = "select2")
#setLocal(multi = false) 
#case ("select2_multi")
#setLocal(type = "select2")
#setLocal(multi = true) 
#default
#setLocal(type = "select")
#setLocal(multi = false) 
#end

#if(col.formDataType=="sys_dictionary")
#setLocal(selectUrl = "admin/dictionary/options?key="+(col.formDataValue??)) 
#else
#setLocal(selectUrl = (col.formDataValue??)) 
#end
#if(isFormGroupRow)
<div class="col-#((col.formEleWidth!=null && col.formEleWidth>0)?col.formEleWidth:(formControlWidth?? 10))">
#end
<select class="form-control"  
	data-autoload 
	data-url="#(selectUrl)"  
	data-select-type="#(type)" 
	#if(multi)multiple="multiple"#end
	name="#(modelName).#(col.attrName)" 
	data-refresh="true" 
	#if(col.dataRule!=null || col.isRequired) data-rule="#(col.dataRule?? (col.isRequired?'select':''))" #end
	data-notnull="#(col.isRequired)" 
	#if(col.dataTips)data-tips="#(col.dataTips)"#end
	data-text="=请选择="
	data-value="" 
	#if(col.formDataValueAttr)
	data-value-attr="#(col.formDataValueAttr)"
	#end
	#if(col.formDataTextAttr)
	data-text-attr="#(col.formDataTextAttr)"
	#end
	#if(col.formDataColumnAttr)
	data-column-attr="#(col.formDataColumnAttr)"
	#end
	data-select="#(col.formDefaultValue??)"></select>
#if(isFormGroupRow)
</div>
#end
#end


### 根据UIType字符串 生成laydate input类型html
#define genLaydateInputByUiTypeStr(isFormGroupRow,modelName,formControlWidth,col)
#switch (col.formUiType)
#case ("laydate_date")
#setLocal(type = "date")
#setLocal(fmt = "yyyy-MM-dd")
#case ("laydate_time")
#setLocal(type = "time")
#setLocal(fmt = "HH:mm")
#case ("laydate_datetime")
#setLocal(type = "datetime")
#setLocal(fmt = "yyyy-MM-dd HH:mm")
#case ("laydate_month")
#setLocal(type = "month")
#setLocal(fmt = "yyyy-MM")
#case ("laydate_year")
#setLocal(type = "year")
#setLocal(fmt = "yyyy")
#default
#setLocal(type = "date")
#setLocal(fmt = "yyyy-MM-dd")
#end
#if(isFormGroupRow)
<div class="col-#((col.formEleWidth!=null && col.formEleWidth>0)?col.formEleWidth:(formControlWidth?? 10))">
#end
<input type="text" data-date data-type="#(type?? 'date')" data-with-clearbtn="true" data-fmt="#(fmt?? 'yyyy-MM-dd')" readonly="readonly" #if(col.dataRule!=null || col.isRequired) data-rule="#(col.dataRule?? (col.isRequired?'required':''))" #end data-notnull="#(col.isRequired)" #if(col.dataTips)data-tips="#(col.dataTips)"#end data-with-clearbtn="true" autocomplete="off"  class="form-control"  #if(col.required) data-rule="required" #end placeholder="请输入#(col.formLabel)" maxlength="#(col.maxLength?? '20')" name="#(modelName).#(col.attrName)" />
#if(isFormGroupRow)
</div>
#end
#end

#define genFormGroupLabel(isFormGroupRow,labelWidth,col)
<label #if(isFormGroupRow)class="col-sm-#(labelWidth?? 2) col-form-label"#end>#(col.formLabel)</label>
#end

#define divEnd()
</div>
#end
#define tagEnd()
>
#end
#define switchColType(isFormGroupRow,modelName,labelWidth,formControlWidth,col)
#switch(col.formUiType)
#case("input","password","number","textarea","calculator")
#@genFormGroupDivStart(isFormGroupRow,formControlWidth,col,true)
	#@genFormGroupLabel(isFormGroupRow,labelWidth,col)
	#@genInputTypeByUiTypeStr(isFormGroupRow,modelName,formControlWidth,col)
#@divEnd()
#case("input_date","input_datetime","input_time","input_month","input_week")
#@genFormGroupDivStart(isFormGroupRow,formControlWidth,col,true)
	#@genFormGroupLabel(isFormGroupRow,labelWidth,col)
	#@genHtml5DateInputByUiTypeStr(isFormGroupRow,modelName,formControlWidth,col)
#@divEnd()
#case("laydate_date","laydate_datetime","laydate_time","laydate_year","laydate_month")
#@genFormGroupDivStart(isFormGroupRow,formControlWidth,col,true)
	#@genFormGroupLabel(isFormGroupRow,labelWidth,col)
	#@genLaydateInputByUiTypeStr(isFormGroupRow,modelName,formControlWidth,col)
#@divEnd()
#case("select","select_multi","select2","select2_multi")
#@genFormGroupDivStart(isFormGroupRow,formControlWidth,col,true)
	#@genFormGroupLabel(isFormGroupRow,labelWidth,col)
	#@genSelectByUiTypeStr(isFormGroupRow,modelName,formControlWidth,col)
#@divEnd()
#case("autocomplete")
#@genFormGroupDivStart(isFormGroupRow,formControlWidth,col,true)
	#@genFormGroupLabel(isFormGroupRow,labelWidth,col)
	#@genAutocompleteByUiTypeStr(isFormGroupRow,modelName,formControlWidth,col)
#@divEnd()
#case("jboltinput","jboltinput_jstree","jboltinput_table")
#@genFormGroupDivStart(isFormGroupRow,formControlWidth,col,true)
	#@genFormGroupLabel(isFormGroupRow,labelWidth,col)
	#@genJBoltInputByUiTypeStr(isFormGroupRow,modelName,formControlWidth,col)
#@divEnd()
#case("radio")
#if(col.formDataType=="sys_dictionary")
#setLocal(radioUrl = "admin/dictionary/options?key="+col.formDataValue) 
#else
#setLocal(radioUrl = col.formDataValue) 
#end
#@genFormGroupDivStart(isFormGroupRow,formControlWidth,col,false) 
	data-radio
	data-name="#(modelName).#(col.attrName)"
	data-stop-propagation="#(editMode?? false)"
	#if(col.formDataValueAttr)
	data-value-attr="#(col.formDataValueAttr)"
	#end
	#if(col.formDataTextAttr)
	data-text-attr="#(col.formDataTextAttr)"
	#end
	data-default="#(col.formDefaultValue?? 'options_first')"
	data-url="#(radioUrl)"
	data-label="#(col.formLabel)"
	#if(isFormGroupRow)
	data-width="col-sm-#(labelWidth?? 2),col-#((col.formEleWidth!=null&&col.formEleWidth>0)?col.formEleWidth:(formControlWidth?? 10))"
	#end
	#if(col.dataRule!=null || col.isRequired) data-rule="#(col.dataRule?? (col.isRequired?'radio':''))" #end
	data-notnull="#(col.isRequired)" 
	#if(col.dataTips)data-tips="#(col.dataTips)"#end
	data-inline="#(col.isItemInline?? true)"
#@tagEnd()
#@divEnd()
#case("checkbox")
#if(col.formDataType=="sys_dictionary")
#setLocal(checkboxUrl = "admin/dictionary/options?key="+(col.formDataValue??)) 
#else
#setLocal(checkboxUrl = (col.formDataValue??)) 
#end
#@genFormGroupDivStart(isFormGroupRow,formControlWidth,col,false) 
	data-checkbox
	data-name="#(modelName).#(col.attrName)"
	#if(col.formDataValueAttr)
	data-value-attr="#(col.formDataValueAttr)"
	#end
	#if(col.formDataTextAttr)
	data-text-attr="#(col.formDataTextAttr)"
	#end
	data-default="#(col.formDefaultValue??)"
	data-url="#(checkboxUrl)"
	data-label="#(col.formLabel)"
	#if(isFormGroupRow)
	data-width="col-sm-#(labelWidth?? 2),col-#((col.formEleWidth!=null&&col.formEleWidth>0)?col.formEleWidth:(formControlWidth?? 10))"
	#end
	#if(col.dataRule!=null || col.isRequired) data-rule="#(col.dataRule?? (col.isRequired?'radio':''))" #end
	data-notnull="#(col.isRequired)" 
	#if(col.dataTips)data-tips="#(col.dataTips)"#end
	data-inline="#(col.isItemInline?? true)"
	data-item-min-width="auto"
#@tagEnd()
#@divEnd()
#default
#@genFormGroupDivStart(isFormGroupRow,formControlWidth,col,true)
	#@genFormGroupLabel(isFormGroupRow,labelWidth,col)
	#@genInputTypeByUiTypeStr(isFormGroupRow,modelName,formControlWidth,col)
#@divEnd()
#end
#end

<!-- JBoltTable的数据模板定义-->
<textarea class="jb_tpl_box" id="JBoltFormEleEditor_tpl">
<div class="card text-left text-primary border border-primary p-3 my-3 JBoltFormEleEditor" id="JBoltFormEleEditor">
<form onsubmit="return false;" method="post" id="JBoltFormEleEditorForm">
 <div class="form-group row"
		id="formEleWidthRadio" 
		data-radio 
		data-rule="radio"  
		data-value="${formEleWidth?formEleWidth:10}" 
		data-name="formEleWidth" 
		data-default="${formEleWidth?formEleWidth:10}"
		data-handler="changeFormControlEleWidth"
		>
		<label class="col-sm-2 col-form-label" >横向占比</label>
			<div class="col"  style="padding-top: 1px;">
				{@each widths as width}
				<div class="radio radio-primary radio-inline">
					<input  id="r_formelewidth_${width}" type="radio" name="formEleWidth" value="${width}"/>
					<label for="r_formelewidth_${width}">${width}</label>
				</div>
				{@/each}
			</div>
</div>
<div class="form-group row">
	<label class="col-sm-2 col-form-label" >标题</label>
	<div class="col">
	<input type="text" oninput="changeFormControlEleFormLabel(this.value)" class="form-control text-info" placeholder="请输入标题" id="formLabel" name="formLabel" value="${formLabel}"/>
	</div>
</div>
{@if hasPlaceholder}
<div class="form-group row">
	<label class="col-sm-2 col-form-label" >placeholder</label>
	<div class="col">
	<input type="text" oninput="changeFormControlElePlaceholder(this.value)" class="form-control text-info" placeholder="请输入placeholder" id="placeholder" name="placeholder" value="${placeholder}"/>
	</div>
</div>
{@/if}
{@if isCanChangeInlineEle}
<div class="form-group row" 
		id="isItemInlineRadio" 
		data-radio 
		data-rule="radio"  
		data-value="${formControlIsInline}" 
		data-name="isItemInline" 
		data-default="true"
		data-handler="changeFormControlEleIsInline"
		>
		<label class="col-sm-2 col-form-label" >是否inline</label>
		<div class="col"  style="padding-top: 1px;">
			<div class="radio radio-primary  radio-inline">
				<input  id="risItemInlinetrue" type="radio" name="isItemInline"   value="true"/>
				<label for="risItemInlinetrue">是</label>
			</div>
			<div class="radio radio-primary  radio-inline">
				<input  id="risItemInlinefalse" type="radio" name="isItemInline"   value="false"/>
				<label for="risItemInlinefalse">否</label>
			</div>
		</div>
</div>
{@/if}

{@if isJBoltInput && jboltInputType && jboltInputType == "jstree"}
<div class="form-group row" 
		id="isJBoltInputFilterTree" 
		data-radio 
		data-rule="radio"  
		data-value="${isJBoltInputFilterTree}" 
		data-name="isJBoltInputFilterTree" 
		data-default="false"
		data-handler="changeFormControlEleisJBoltInputFiltertree"
		>
		<label class="col-sm-2 col-form-label" >filterTree</label>
		<div class="col"  style="padding-top: 1px;">
			<div class="radio radio-primary  radio-inline">
				<input id="risJBoltInputFilterTreetrue" type="radio" name="isJBoltInputFilterTree"   value="true"/>
				<label for="risJBoltInputFilterTreetrue">启用</label>
			</div>
			<div class="radio radio-primary  radio-inline">
				<input id="risJBoltInputFilterTreefalse" type="radio" name="isFormJBoltInputJstreeOnlyLeaf"   value="false"/>
				<label for="risJBoltInputFilterTreefalse">不启用</label>
			</div>
		</div>
</div>
<div class="form-group row" 
		id="isJBoltInputJsTreeCheckbox" 
		data-radio 
		data-rule="radio"  
		data-value="${isJBoltInputJsTreeCheckbox}" 
		data-name="isFormJBoltInputJsTreeCheckbox" 
		data-default="false"
		data-handler="changeFormControlEleisJBoltInputJsTreeCheckbox"
		>
		<label class="col-sm-2 col-form-label" >checkbox</label>
		<div class="col"  style="padding-top: 1px;">
			<div class="radio radio-primary  radio-inline">
				<input id="risJBoltInputJsTreeCheckboxtrue" type="radio" name="isFormJBoltInputJsTreeCheckbox"   value="true"/>
				<label for="risJBoltInputJsTreeCheckboxtrue">启用</label>
			</div>
			<div class="radio radio-primary  radio-inline">
				<input id="risJBoltInputJsTreeCheckboxfalse" type="radio" name="isFormJBoltInputJsTreeCheckbox"   value="false"/>
				<label for="risJBoltInputJsTreeCheckboxfalse">不启用</label>
			</div>
		</div>
</div>
<div class="form-group row d-none" 
		id="isJBoltInputJsTreeOnlyLeaf" 
		data-radio 
		data-rule="radio"  
		data-value="${isJBoltInputJsTreeOnlyLeaf}" 
		data-name="isFormJBoltInputJstreeOnlyLeaf" 
		data-default="false"
		data-handler="changeFormControlEleisJBoltInputJsTreeOnlyLeaf"
		>
		<label class="col-sm-2 col-form-label" >选择类型</label>
		<div class="col"  style="padding-top: 1px;">
			<div class="radio radio-primary  radio-inline">
				<input id="risJBoltInputJsTreeOnlyLeaftrue" type="radio" name="isFormJBoltInputJstreeOnlyLeaf"   value="true"/>
				<label for="risJBoltInputJsTreeOnlyLeaftrue">只选叶子节点</label>
			</div>
			<div class="radio radio-primary  radio-inline">
				<input id="risJBoltInputJsTreeOnlyLeaffalse" type="radio" name="isFormJBoltInputJstreeOnlyLeaf"   value="false"/>
				<label for="risJBoltInputJsTreeOnlyLeaffalse">所有节点可选</label>
			</div>
		</div>
</div>
{@/if}

{@if isJBoltInput && jboltInputType && jboltInputType == "table"}
<div class="form-group row" 
		id="isJBoltInputFilterTable" 
		data-radio 
		data-rule="radio"  
		data-value="${isJBoltInputFilterTable}" 
		data-name="isJBoltInputFilterTable" 
		data-default="false"
		data-handler="changeFormControlEleisJBoltInputFilterTable"
		>
		<label class="col-sm-2 col-form-label" >filterTable</label>
		<div class="col"  style="padding-top: 1px;">
			<div class="radio radio-primary  radio-inline">
				<input id="risJBoltInputFilterTabletrue" type="radio" name="isJBoltInputFilterTable"   value="true"/>
				<label for="risJBoltInputFilterTabletrue">启用</label>
			</div>
			<div class="radio radio-primary  radio-inline">
				<input id="risJBoltInputFilterTablefalse" type="radio" name="isJBoltInputFilterTable"   value="false"/>
				<label for="risJBoltInputFilterTablefalse">不启用</label>
			</div>
		</div>
</div>
{@/if}

<button type="button" class="btn btn-primary d-inline-block" style="width:120px;" type="button" onclick="submitFormEleEditor()">提交修改</button>
</form>
</div>
</textarea>