#@jboltLayout()
#define main()
<div class="row">
  <div class="col">
    <div class="card" style="margin-bottom: 5px">
      <div class="card-body">
        <div class="col">
          <button onclick="closeHandler()"
                  class="btn btn-info btn-sm"><i class="fa fa-window-maximize"></i> 关闭
          </button>
          <button onclick="print()"
                  class="btn btn-success btn-sm"><i class="fa fa-refresh"></i> 打印
          </button>
          <div class="jbolt_table_toolbar" id="SysMaterialsprepare_toolbar_#(pageId)">
            <div class="btn-group dropdown" role="group" aria-label="btn-group">
              <div class="btn-group dropdown ">
                <button class="btn btn-outline-secondary btn-xs" type="button" id="exportContainerButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> 数据导出</button>
                <div class="dropdown-menu" aria-labelledby="exportContainerButton">
                  <button class="btn dropdown-item"  data-downloadbtn data-url="/admin/sysMaterialsprepare/downloadChecked"><i class="fa fa-download"></i> 导出为Excel文件</button>
<!--                  <button class="btn dropdown-item" data-downloadbtn data-url="/admin/salesDeliveryList/downloadChecked" data-form="Container_form_#(pageId)"><i class="fa fa-download"></i> 条件导出</button>-->
                </div>
              </div>
            </div>
          </div>
<!--          <button onclick="submitThisForm()"-->
<!--                  class="btn btn-success btn-sm"><i class="fa fa-refresh"></i> 数据导出-->
<!--          </button>-->
        </div>
      </div>
    </div>
    <div class="card">
      <div class="card-body">
        基本信息
      </div>
    </div>
    <div class="card" style="margin-bottom: 5px">
      <div class="card-body">
        <form onsubmit="return false;" id="SysMaterialsprepare_Form" action="#(action)" method="post">
          #if(sysMaterialsprepare.AutoID??)
          <input type="hidden" name="sysMaterialsprepare.iAutoId" value="#(sysMaterialsprepare.AutoID??)"/>
          #end
          <div class="row">
            <div class="col-md-4">
              <div class="form-group row">
                <label class="col-sm-2 col-form-label">备料单号：</label>
                <div class="col-10">
                  <input type="text" data-rule="required" data-notnull="false"
                         data-tips=""
                         data-with-clearbtn="false" autocomplete="off"
                         class="form-control" placeholder=""
                         maxlength="40" name="sysMaterialsprepare.cMoPickNo"
                         readonly
                         value="#(sysMaterialsprepare.BillNo??)"
                  />
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group row">
                <label class="col-sm-2 col-form-label">工单号 ：</label>
                <div class="col-10">
                  <input type="text" data-rule="required" data-notnull="false"
                         data-tips=""
                         data-with-clearbtn="false" autocomplete="off"
                         class="form-control" placeholder=""
                         maxlength="40" name="sysMaterialsprepare.cMoDocNo"
                         readonly
                         value="#(cmodocno??)"
                  />
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group row">
                <label class="col-sm-2 col-form-label">生产部门：</label>
                <div class="col-10">
                  <input type="text" data-rule="required" data-notnull="false"
                         data-tips=""
                         data-with-clearbtn="false" autocomplete="off"
                         class="form-control"
                         placeholder="" maxlength="40" name="sysMaterialsprepare.cDepName"
                         readonly
                         value="#(cdepname??)"
                  />
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group row">
                <label class="col-sm-2 col-form-label">机型：</label>
                <div class="col-10">
                  <input type="text" data-rule="required" data-notnull="false"
                         data-tips=""
                         data-with-clearbtn="false" autocomplete="off"
                         class="form-control"
                         placeholder="" maxlength="40" name="sysMaterialsprepare.iEquipmentModelId"
                         readonly
                         value="#(cequipmentmodelname??)"
                  />
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group row">
                <label class="col-sm-2 col-form-label">客户部番：</label>
                <div class="col-10">
                  <input type="text" data-rule="required" data-notnull="false"
                         data-tips=""
                         data-with-clearbtn="false" autocomplete="off"
                         class="form-control"
                         placeholder="" maxlength="40" name="sysMaterialsprepare.cInvCode1"
                         readonly
                         value="#(cinvcode1??)"
                  />
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group row">
                <label class="col-sm-2 col-form-label">部品名称：</label>
                <div class="col-10">
                  <input type="text" data-rule="required" data-notnull="false"
                         data-tips=""
                         data-with-clearbtn="false" autocomplete="off"
                         class="form-control"
                         placeholder="" maxlength="40" name="sysMaterialsprepare.cDepName"
                         readonly
                         value="#(cinvname1??)"
                  />
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group row">
                <label class="col-sm-2 col-form-label">计划日期：</label>
                <div class="col-10">
                  <input type="text" data-rule="required" data-notnull="false"
                         data-tips=""
                         data-with-clearbtn="false" autocomplete="off"
                         class="form-control"
                         placeholder="" maxlength="40" name="sysMaterialsprepare.dPlanDate"
                         readonly
                         value="#(dplandate??)"
                  />
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group row">
                <label class="col-sm-2 col-form-label">计划数量：</label>
                <div class="col-10">
                  <input type="text" data-rule="required" data-notnull="false"
                         data-tips=""
                         data-with-clearbtn="false" autocomplete="off"
                         class="form-control"
                         placeholder="" maxlength="40" name="sysMaterialsprepare.iPlanQty"
                         readonly
                         value="#(iqty??)"
                  />
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group row">
                <label class="col-sm-2 col-form-label">生产班次：</label>
                <div class="col-10">
                  <input type="text" data-rule="required" data-notnull="false"
                         data-tips=""
                         data-with-clearbtn="false" autocomplete="off"
                         class="form-control"
                         placeholder="" maxlength="40" name="sysMaterialsprepare.iWorkShiftMid"
                         readonly
                         value="#(cworkshiftname??)"
                  />
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group row">
                <label class="col-sm-2 col-form-label">单据状态：</label>
                <div class="col-10">
                  <input type="text" data-rule="required" data-notnull="false"
                         data-tips=""
                         data-with-clearbtn="false" autocomplete="off"
                         class="form-control"
                         placeholder="" maxlength="40" name="sysMaterialsprepare.cCreateName"
                         readonly
                         value="#(ifinish??)"
                  />
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group row">
                <label class="col-sm-2 col-form-label">创建人：</label>
                <div class="col-10">
                  <input type="text" data-rule="required" data-notnull="false"
                         data-tips=""
                         data-with-clearbtn="false" autocomplete="off"
                         class="form-control"
                         placeholder="" maxlength="40" name="sysMaterialsprepare.cCreateName"
                         readonly
                         value="#(sysMaterialsprepare.CreatePerson??)"
                  />
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group row">
                <label class="col-sm-2 col-form-label">创建时间：</label>
                <div class="col-10">
                  <input type="text" data-rule="required" data-notnull="false"
                         data-tips=""
                         data-with-clearbtn="false" autocomplete="off"
                         class="form-control"
                         placeholder="" maxlength="40" name="sysMaterialsprepare.dCreateTime"
                         readonly
                         value="#(sysMaterialsprepare.CreateDate??)"
                  />
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
<textarea class="jb_tpl_box" id="SysMaterialsprepare_tpl_#(pageId)">
{@each datas as data,index}
<tr data-id="${data.autoid}">
<td>${pageNumber,pageSize,index | rownum}</td>
<td>
	<a class="text-info mr-1" data-openpage="dialog" href="admin/sysMaterialsprepare/barcodeDetail/?cinvcode=${data.cinvcode}&batch=${data.batch}&cinvcode1=${data.cinvcode1}&cinvname1=${data.cinvname1}" data-area="1200,800" data-title="现品票明细"><i class="fa fa-eye">可用现品票</i></a>
	<a class="text-info mr-1" data-openpage="dialog" href="admin/sysMaterialsprepare/barcodeDetail1/?cinvcode=${data.cinvcode}&batch=${data.batch}&cinvcode1=${data.cinvcode1}&cinvname1=${data.cinvname1}" data-area="1200,800" data-title="现品票明细"><i class="fa fa-eye">备料现品票</i></a>
</td>
<td>${data.cinvcode}</td>
<td>${data.cinvcode1}</td>
<td>${data.cinvname1}</td>
<td>${data.cinvstd}</td>
<td>${data.cuomname}</td>
<td>${data.计划数量}</td>
<td>${data.出库仓库}</td>
<td>${data.出库库区}</td>
<td>${data.已备料数量}</td>
<td>${data.剩余备料数量}</td>
<td>${data.batch}</td>
<td>${data.statename}</td>
</tr>
{@/each}
</textarea>
<div class="card">
  <div class="card-body">
    物料信息
  </div>
</div>
<table class="jbolt_table jbolt_main_table table-center"
       data-jbolttable
       data-width="fill"
       data-height="43%"
       data-ajax="true"
       data-url="admin/sysMaterialsprepare/getDetail?billno=#(sysMaterialsprepare.BillNo??)"
       data-rowtpl="SysMaterialsprepare_tpl_#(pageId)"
       data-copy-to-excel="false"
       data-page="SysMaterialsprepare_page"
       data-column-resize="true"
       data-toolbar="SysMaterialsprepare_toolbar_#(pageId)"
>
  <thead class="fw-normal">
  <tr>
    <th data-width="60" data-column="">序号</th>
    <th data-width="200" data-column="">操作</th>
    <th data-width="150" data-column="">存货编码</th>
    <th data-width="150" data-column="">客户部番</th>
    <th data-width="250" data-column="">部品名称</th>
    <th data-width="150" data-column="">规格</th>
    <th data-width="150" data-column="">库存单位</th>
    <th data-width="150" data-column="">计划数量</th>
    <th data-width="150" data-column="">出库仓库</th>
    <th data-width="150" data-column="">出库库区</th>
    <th data-width="150" data-column="">已备料数量</th>
    <th data-width="150" data-column="">剩余备料数量</th>
    <th data-width="150" data-column="">可用批次号</th>
    <th data-width="150" data-column="">齐料扫码检查</th>
  </tr>
  </thead>
  <tbody></tbody>
</table>
#end
#define js()
<script type="text/javascript">
  hideParentLayerDialogBtn(0);
  hideParentLayerDialogBtn(1);

</script>
#include("/_view/_admin/common/_formjs.html",formId="SysMaterialsprepare_Form")
#end

