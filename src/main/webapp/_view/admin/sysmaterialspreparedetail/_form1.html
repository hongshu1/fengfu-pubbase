<div class="row">
    <div class="col">
        <div class="card" style="margin-bottom: 5px">
            <div class="card-body">
                <div class="col">
                    <button onclick="closeHandler()"
                            class="btn btn-info btn-sm"><i class="fa fa-window-maximize"></i> 关闭
                    </button>
                    <button onclick="print()"
                            class="btn btn-success btn-sm"><i class="fa fa-refresh"></i> 打印
                    </button>
                    <button onclick="submitThisForm()"
                            class="btn btn-success btn-sm"><i class="fa fa-refresh"></i> 数据导出
                    </button>
                </div>
            </div>
        </div>
        <div class="card">
            <div class="card-body">
                基本信息
            </div>
        </div>
        <div class="card" style="margin-bottom: 5px">
            <div class="card-body">
                <form onsubmit="return false;" id="MoPickItemM_Form" action="#(action)" method="post">
                    #if(sysMaterialsprepare.AutoID??)
                    <input type="hidden" name="sysMaterialsprepare.iAutoId" value="#(sysMaterialsprepare.AutoID??)"/>
                    #end
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label">备料单号：</label>
                                <div class="col-10">
                                    <input type="text" data-rule="required" data-notnull="false"
                                           data-tips=""
                                           data-with-clearbtn="false" autocomplete="off"
                                           class="form-control" placeholder=""
                                           maxlength="40" name="moPickItemM.cMoPickNo"
                                           readonly
                                           value="#(sysMaterialsprepare.BillNo??)"
                                    />
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label">工单号 ：</label>
                                <div class="col-10">
                                    <input type="text" data-rule="required" data-notnull="false"
                                           data-tips=""
                                           data-with-clearbtn="false" autocomplete="off"
                                           class="form-control" placeholder=""
                                           maxlength="40" name="moPickItemM.cMoDocNo"
                                           readonly
                                           value="#(cmodocno??)"
                                    />
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label">生产部门：</label>
                                <div class="col-10">
                                    <input type="text" data-rule="required" data-notnull="false"
                                           data-tips=""
                                           data-with-clearbtn="false" autocomplete="off"
                                           class="form-control"
                                           placeholder="" maxlength="40" name="moPickItemM.cDepName"
                                           readonly
                                           value="#(cdepname??)"
                                    />
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label">机型：</label>
                                <div class="col-10">
                                    <input type="text" data-rule="required" data-notnull="false"
                                           data-tips=""
                                           data-with-clearbtn="false" autocomplete="off"
                                           class="form-control"
                                           placeholder="" maxlength="40" name="moPickItemM.iEquipmentModelId"
                                           readonly
                                           value="#(cequipmentmodelname??)"
                                    />
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label">客户部番：</label>
                                <div class="col-10">
                                    <input type="text" data-rule="required" data-notnull="false"
                                           data-tips=""
                                           data-with-clearbtn="false" autocomplete="off"
                                           class="form-control"
                                           placeholder="" maxlength="40" name="moPickItemM.cInvCode1"
                                           readonly
                                           value="#(cinvcode1??)"
                                    />
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label">部品名称：</label>
                                <div class="col-10">
                                    <input type="text" data-rule="required" data-notnull="false"
                                           data-tips=""
                                           data-with-clearbtn="false" autocomplete="off"
                                           class="form-control"
                                           placeholder="" maxlength="40" name="moPickItemM.cDepName"
                                           readonly
                                           value="#(cinvname1??)"
                                    />
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label">计划日期：</label>
                                <div class="col-10">
                                    <input type="text" data-rule="required" data-notnull="false"
                                           data-tips=""
                                           data-with-clearbtn="false" autocomplete="off"
                                           class="form-control"
                                           placeholder="" maxlength="40" name="moPickItemM.dPlanDate"
                                           readonly
                                           value="#(dplandate??)"
                                    />
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label">计划数量：</label>
                                <div class="col-10">
                                    <input type="text" data-rule="required" data-notnull="false"
                                           data-tips=""
                                           data-with-clearbtn="false" autocomplete="off"
                                           class="form-control"
                                           placeholder="" maxlength="40" name="moPickItemM.iPlanQty"
                                           readonly
                                           value="#(iqty??)"
                                    />
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label">生产班次：</label>
                                <div class="col-10">
                                    <input type="text" data-rule="required" data-notnull="false"
                                           data-tips=""
                                           data-with-clearbtn="false" autocomplete="off"
                                           class="form-control"
                                           placeholder="" maxlength="40" name="moPickItemM.iWorkShiftMid"
                                           readonly
                                           value="#(cworkshiftname??)"
                                    />
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label">单据状态：</label>
                                <div class="col-10">
                                    <input type="text" data-rule="required" data-notnull="false"
                                           data-tips=""
                                           data-with-clearbtn="false" autocomplete="off"
                                           class="form-control"
                                           placeholder="" maxlength="40" name="moPickItemM.cCreateName"
                                           readonly
                                           value="#(istatus??)"
                                    />
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label">创建人：</label>
                                <div class="col-10">
                                    <input type="text" data-rule="required" data-notnull="false"
                                           data-tips=""
                                           data-with-clearbtn="false" autocomplete="off"
                                           class="form-control"
                                           placeholder="" maxlength="40" name="moPickItemM.cCreateName"
                                           readonly
                                           value="#(sysMaterialsprepare.CreatePerson??)"
                                    />
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label">创建时间：</label>
                                <div class="col-10">
                                    <input type="text" data-rule="required" data-notnull="false"
                                           data-tips=""
                                           data-with-clearbtn="false" autocomplete="off"
                                           class="form-control"
                                           placeholder="" maxlength="40" name="moPickItemM.dCreateTime"
                                           readonly
                                           value="#(sysMaterialsprepare.CreateDate??)"
                                    />
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<textarea class="jb_tpl_box" id="MoPickItemM_tpl_#(pageId)">
{@each datas as data,index}
<tr data-id="${data.autoid}">
<td>${pageNumber,pageSize,index | rownum}</td>
<td>
	<a class="text-info mr-1" data-openpage="dialog" href="admin/sysmaterialspreparedetail/edit2/?cinvcode=${data.cinvcode}" data-area="700,800" data-title="现品票明细"><i class="fa fa-eye">现品票明细</i></a>
</td>
<td>${data.cinvcode}</td>
<td>${data.cinvcode1}</td>
<td>${data.cinvname1}</td>
<td>${data.cinvstd}</td>
<td>${data.cuomname}</td>
<td>${data.totalqty}</td>
<td>${data.cwhname}</td>
<td>${data.careaname}</td>
<td>${data.已备料数量}</td>
<td>${data.剩余备料数量}</td>
<td>${data.可用批次号}</td>
<td>${data.齐料扫码检查}</td>
</tr>
{@/each}
</textarea>
<div class="card">
    <div class="card-body">
        物料信息
    </div>
</div>
<table class="jbolt_table jbolt_main_table table-center"
       data-jbolttable
       data-width="fill"
       data-height="43%"
       data-ajax="true"
       data-url="admin/sysmaterialspreparedetail/getMaterialsOutLines1?autoid=#(autoid??)"
       data-rowtpl="MoPickItemM_tpl_#(pageId)"
       data-copy-to-excel="false"
       data-page="MoPickItemM_page"
       data-column-resize="true"
       data-toolbar="MoPickItemM_toolbar_#(pageId)"
>
    <thead class="fw-normal">
    <tr>
        <th data-width="60" data-column="">序号</th>
        <th data-width="150" data-column="">操作</th>
        <th data-width="150" data-column="">存货编码</th>
        <th data-width="150" data-column="">客户部番</th>
        <th data-width="150" data-column="">部品名称</th>
        <th data-width="150" data-column="">规格</th>
        <th data-width="150" data-column="">库存单位</th>
        <th data-width="150" data-column="">计划数量</th>
        <th data-width="150" data-column="">出库仓库</th>
        <th data-width="150" data-column="">出库库区</th>
        <th data-width="150" data-column="">已备料数量</th>
        <th data-width="150" data-column="">剩余备料数量</th>
        <th data-width="150" data-column="">可用批次号</th>
        <th data-width="150" data-column="">齐料扫码检查</th>
    </tr>
    </thead>
    <tbody></tbody>
</table>
#define js()
<script>
    hideParentLayerDialogBtn(0);
    hideParentLayerDialogBtn(1);

    function closeHandler() {
        parent.layer.close(parent.layer.getFrameIndex(window.name));
        window.parent.refreshJBoltTable();
    }

</script>
#include("/_view/_admin/common/_formjs.html",formId="MoPickItemM_Form")
#end

