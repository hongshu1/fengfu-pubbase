#set(pageId=RandomUtil.random(6))
#set(iYear=DateUtil.getYear())
<div class="jbolt_page" data-key="#(pmkey??)" style="margin-top: -16px">
    <div class="jbolt_page_title">
        <div class="card">
            <div class="card-body">
                <div class="col">
                    <form class="form-inline" id="apsAnnualplanmFormadd_#(pageId)"   onsubmit="return false;" method="post">
                        <input type="text" hidden class="form-control" placeholder="计划单号" name="cplanorderno" value="#(cplanorderno)" />
                        <input type="text" hidden class="form-control" placeholder="客户id" name="icustomerid" value="#(icustomerid)" />
                        <input type="text" hidden class="form-control" placeholder="年份" name="startyear" value="#(startyear)" />

                        <input type="text" class="form-control" placeholder="存货编码" name="cinvcode" value="" />
                        <input type="text" class="form-control" placeholder="客户部番" name="cinvcode1" value="" />
                        <input type="text" class="form-control" placeholder="部品名称" name="cinvname1" value="" />
                        <select class="form-control"
                                name="iplanorderstatus"
                                data-autoload
                                data-url="admin/dictionary/options?key=annual_order_auditstatus"
                                data-select-type="select"
                                data-text="=机型="
                                data-value=""
                                data-with-clearbtn="true"
                                data-value-attr="sn"
                        ></select>

                        <button  type="submit" class="btn btn-outline-secondary" ><i class="fa fa-search"></i> 查询</button>
                        <button type="reset"  class="btn btn-outline-secondary"><i class="fa fa-reset"></i> 重置</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="jbolt_page_content">
        <script type="text/template" id="jboltTable_demotpladd_#(pageId)">
            {@each datas as data,index}
            <tr data-id="${data.iautoid}">
                <td>${pageNumber,pageSize,index | rownum}</td>
                <td>${data.cCusName}</td>
                <td>${data.cEquipmentModelName}</td>
                <td>${data.cInvCode}</td>
                <td>${data.cInvCode1}</td>
                <td>${data.cInvName1}</td>
                <td>${data.nowmonth1}</td>
                <td>${data.nowmonth2}</td>
                <td>${data.nowmonth3}</td>
                <td>${data.nowmonth4}</td>
                <td>${data.nowmonth5}</td>
                <td>${data.nowmonth6}</td>
                <td>${data.nowmonth7}</td>
                <td>${data.nowmonth8}</td>
                <td>${data.nowmonth9}</td>
                <td>${data.nowmonth10}</td>
                <td>${data.nowmonth11}</td>
                <td>${data.nowmonth12}</td>
                <td>${data.nowMonthSum}</td>
                <td>${data.nextmonth1}</td>
                <td>${data.nextmonth2}</td>
                <td>${data.nextmonth3}</td>
                <td>${data.nextMonthSum}</td>
            </tr>
            {@/each}
        </script>
        <div class="jbolt_table_toolbar" id="AnnualOrderM_toolbaradd_#(pageId)">
            <div class="btn-group btn-group-sm" role="group" aria-label="btn-group">
                <button onclick="" class="btn btn-danger btn-sm"><i class="fa fa-trash"></i> 数据导入</button>
                <button onclick="submitThisForm()" class="btn btn-success btn-sm" onclick="submitThisForm()"><i class="fa fa-refresh"></i> 保存</button>
                <button onclick="" class="btn btn-info btn-sm"><i class="fa fa-window-maximize"></i> 提交审批</button>
                <button onclick="closeHandler()" class="btn btn-info btn-sm"><i class="fa fa-window-maximize"></i> 关闭</button>
            </div>
        </div>
        <table class="jbolt_table thead_font_normal table-bordered table-center"
               data-jbolttable
               data-ajax="true"
               data-conditions-form="apsAnnualplanmFormadd_#(pageId)"
               data-url="admin/scheduproductplanyear/getApsYearPlanList"
               id="jbolt_Table_#(pageId)"
               data-column-resize="true"
               data-tfoot-fixed="true"
               data-column-prepend="1:checkbox"
               data-rowtpl="jboltTable_demotpladd_#(pageId)"
               data-toolbar="AnnualOrderM_toolbaradd_#(pageId)"
        >
            <thead class="fw_normal">
            <tr>
                <th data-width="60" data-column="index" rowspan="2">序号</th>
                <th data-width="150" data-column="ccusname" rowspan="2">客户名称</th>
                <th data-width="150" data-column="cequipmentmodelname" rowspan="2">机型</th>
                <th data-width="150" data-column="cinvcode" rowspan="2">存货编码</th>
                <th data-width="150" data-column="cinvcode1" rowspan="2">客户部番</th>
                <th data-width="150" data-column="cinvname1" rowspan="2">部品名称</th>
                <th colspan="13" id="nowYear">#(iYear)年</th>
                <th colspan="4" id="nextYear">#(iYear+1)年</th>
            </tr>
            <tr>
                <th data-column="nowmonth1">1月</th>
                <th data-column="nowmonth2">2月</th>
                <th data-column="nowmonth3">3月</th>
                <th data-column="nowmonth4">4月</th>
                <th data-column="nowmonth5">5月</th>
                <th data-column="nowmonth6">6月</th>
                <th data-column="nowmonth7">7月</th>
                <th data-column="nowmonth8">8月</th>
                <th data-column="nowmonth9">9月</th>
                <th data-column="nowmonth10">10月</th>
                <th data-column="nowmonth11">11月</th>
                <th data-column="nowmonth12">12月</th>
                <th data-column="nowmonthsum">合计</th>
                <th data-column="nextmonth1">1月</th>
                <th data-column="nextmonth2">2月</th>
                <th data-column="nextmonth3">3月</th>
                <th data-column="nextmonthsum">合计</th>
            </tr>
            </thead>
            <tbody></tbody>
            <tfoot>
            <tr>
                <th></th>
                <th>合计</th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
            <tr>
            </tfoot>
        </table>
    </div>
</div>


#define js()
<script>
hideParentLayerDialogBtn(0);
hideParentLayerDialogBtn(1);
function submitThisForm(){
	jboltTableSubmit("#jbolt_Table_#(pageId)");
}



</script>
#end

