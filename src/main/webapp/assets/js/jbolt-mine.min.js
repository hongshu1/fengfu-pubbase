var juicer_bool_html=function(c,b){var a='<span class="badge badge-${val} d-block my-1">${text}</span>';b=juicer("${val|colorClassByLevel}",{val:+b+1});return juicer(a,{text:c,val:b})};var juicer_html=function(c,b){var a='<span class="badge badge-${val} d-block my-1">${text}</span>';b=juicer("${val|colorClassByLevel}",{val:b});return juicer(a,{text:c,val:b})};var bracket=function(a){if(a){return" ("+a+")"}return""};var qrcode=function(d,a){if(!d){return""}var c=a?"":d;var b='<img data-imgviewer src="/common/qrcode?code=${val}" style="width:30px;height: 30px;" tooltip data-title="点击查看大图" />${text}';return juicer(b,{val:d,text:c})};function number_format1(b,a){return b?numberFormat(b,a):""}function iseffective(a){if(typeof(a)==="boolean"){a=a?"1":"0"}switch(a){case"0":return juicer_bool_html("未生效",a);case"1":return juicer_bool_html("已生效",a);default:return""}}function btnviewtype(a){switch(a){case 1:return juicer_html("列表",a);case 2:return juicer_html("表单",a);default:return""}}function position(a){switch(a){case 1:return juicer_html("工具栏",a);case 2:return juicer_html("列表内",a);default:return""}}function roletype(a){switch(a){case 1:return juicer_html("角色",a);case 2:return juicer_html("用户",a);default:return""}}function auditstatus(a){switch(a){case 0:return juicer_html("待审核",a++);case 1:return juicer_html("审核通过",a++);case 2:return juicer_html("审核不通过",a++);default:return""}}function iSource(a){switch(a){case 1:return"MES";case 2:return"U8";default:return""}}function iSex(a){switch(a){case 1:return"男";case 2:return"女";default:return""}}function cOrderStatusDescByAuditStatus(a){switch(a){case 0:return"已保存";case 1:return"待审批";case 2:return"已审批";case 3:return"审批不通过";default:return""}}function iOrderStatus(a){switch(a){case 1:return"已保存";case 2:return"待审批";case 3:return"已审批";case 4:return"审批不通过";case 5:return"已发货";case 6:return"已核对";case 7:return"已关闭";default:return"11"}}function isLargeAmountExpense(a){switch(a){case"0":return juicer_bool_html("否",a);case"1":return juicer_bool_html("是",a);default:return""}}function proposalmSourceType(a){switch(a){case 1:return juicer_html("费用预算",a);case 2:return juicer_html("投资计划",a);default:return"未知"}}function isscheduled(a){switch(a){case 0:return juicer_bool_html("计划外",a);case 1:return juicer_bool_html("计划内",a);case 2:return juicer_bool_html("提前实施",a);default:return""}}function auditstate(a){switch(a){case 0:return juicer_html("未审核",++a);case 1:return juicer_html("已审核",++a);default:return"未知"}}function careertype(a){switch(a){case"1":return juicer_html("COLD",++a);case"2":return juicer_html("HOT",++a);case"3":return juicer_html("变矩器",++a);case"4":return juicer_html("锻造",++a);case"5":return juicer_html("马达",++a);case"6":return juicer_html("其它",++a);default:return"未知"}}function investmentdistinction(a){switch(a){case"1":return juicer_html("能力扩大",++a);case"2":return juicer_html("品质向上",++a);case"3":return juicer_html("改善合理化",++a);case"4":return juicer_html("更新",++a);case"5":return juicer_html("环境改善",++a);case"6":return juicer_html("厂房建筑",++a);case"7":return juicer_html("其他",++a);default:return"未知"}}function assettype(a){switch(a){case"1":return juicer_html("土地",++a);case"2":return juicer_html("房屋及建筑物",++a);case"3":return juicer_html("公共设施",++a);case"4":return juicer_html("生产设备",++a);case"5":return juicer_html("检验设备",++a);case"6":return juicer_html("模检治具",++a);case"7":return juicer_html("运输设备",++a);case"8":return juicer_html("办公设备",++a);case"9":return juicer_html("事务用品",++a);case"10":return juicer_html("软件",++a);case"11":return juicer_html("长期待摊",++a);default:return"未知"}}function spriorreport(a){switch(a){case"0":return juicer_html("否",++a);case"1":return juicer_html("是",++a);default:return"未知"}}function paymentprogress(a){switch(a){case"1":return juicer_html("计划",++a);case"2":return juicer_html("禀议",++a);case"3":return juicer_html("发注",++a);default:return"未知"}}function edittype(a){switch(a){case"1":return juicer_html("新增",++a);case"2":return juicer_html("超支",++a);case"3":return juicer_html("节约",++a);case"4":return juicer_html("取消",++a);case"5":return juicer_html("提前",++a);case"6":return juicer_html("上年延后至本年",++a);case"7":return juicer_html("本年延后至明年",++a);default:return"未知"}}function simport(a){switch(a){case"0":return juicer_bool_html("否",++a);case"1":return juicer_bool_html("是",++a);default:return""}}function proposaldType(a){switch(a){case 1:return juicer_html("原禀议",a);case 2:return juicer_html("新增",a);default:return"未知"}}function purchaseState(a){switch(a){case 1:return juicer_html("未推送",a);case 2:return juicer_html("已推送",a);default:return"未知"}}function serviceType(a){switch(a){case 1:return juicer_html("费用预算",a);case 2:return juicer_html("投资计划",a);default:return"未知"}}function proposalChooseType(a){switch(a){case 1:return juicer_html("费用预算",a);case 2:return juicer_html("投资计划",a);case 3:return juicer_html("追加禀议",a);default:return"未知"}}function BudgetType(a){switch(a){case 1:return juicer_html("全年预算",a);case 2:return juicer_html("下期修改",a);case 3:return juicer_html("实绩预测",a);case 4:return juicer_html("实绩",a);
case 5:return juicer_html("差异(②-①)",a);case 6:return juicer_html("差异(③-①)",a);case 7:return juicer_html("差异(③-②)",a);default:return""}}function AuditStatus(b,a){switch(a){case 1:switch(b){case 0:case 3:return juicer_html("已保存",++b);case 1:return juicer_html("待审核",++b);case 2:return juicer_html("已审核",++b);default:return"审核-未知"}case 2:switch(b){case 0:case 3:return juicer_html("已保存",++b);case 1:return juicer_html("待审批",++b);case 2:return juicer_html("审批通过",++b);default:return"审批-未知"}default:return"未知"}}function EffectiveStatus(a){switch(a){case 1:return juicer_html("未生效",++a);case 2:return juicer_html("已生效",++a);case 3:return juicer_html("已失效",++a);case 4:return juicer_html("已作废",++a);default:return""}}function iBudgetType1(a){switch(a){case 1:return juicer_html("日程",++a);case 2:return juicer_html("付款",++a);default:return""}}function iBudgetType2(a){switch(a){case 1:return juicer_html("全年预算a",++a);case 2:return juicer_html("下半年修订b",++a);case 3:return juicer_html("实绩预测d",++a);case 4:return juicer_html("实绩e",++a);case 5:return juicer_html("差异A（b-a）",++a);case 6:return juicer_html("差异E（d-a）",++a);case 7:return juicer_html("差异F（d-b）",++a);case 8:return juicer_html("差异G（e-a）",++a);case 9:return juicer_html("差异H（e-b）",++a);case 10:return juicer_html("差异J（e-d）",++a);default:return""}}function iBudgetTypeInvestmentGroupSummary(a){switch(a){case 1:return juicer_html("全年预算",++a);case 2:return juicer_html("下半年修订",++a);case 3:return juicer_html("实绩",++a);default:return""}}var kFormat=function(a){if(a==0){return"-"}return a?numberFormat((a/1000),2):""};function cItemTypeSituation(a){switch(a){case"1":return juicer_html("立项",++a);case"2":return juicer_html("修订",++a);case"3":return juicer_html("实绩",++a);default:return""}}var finishStatus=function(a){switch(a){case 1:return juicer_html("未完成",++a);case 2:return juicer_html("已完成",++a);default:return""}};var isubitem=function(a){switch(a){case 0:return"否";case 1:return"是";default:return""}};function iPurchaseRefType(a){switch(a){case 1:return juicer_bool_html("禀议书",a);case 2:return juicer_bool_html("预算",a);default:return""}}var previewUrl=function(a){a=getUrl(a.replace("/home",""));return getBaseUrl("8012")+"/onlinePreview?url="+encodeURIComponent(window.btoa(a))};var getUrl=function(a){return location.protocol+"//"+location.host+"/"+a};var getBaseUrl=function(a){if(location.port){return location.protocol+"//"+location.host.replace(location.port,a)}return location.protocol+"//kkfileview.kephon.com"};var icontrastnum=function(a){switch(a){case 1:return"①";case 2:return"②";case 3:return"③";default:return""}};function iPeriodContrastBudgetType(a){switch(a){case 1:return juicer_html("全年预算a",++a);case 2:return juicer_html("下半年修订b",++a);case 3:return juicer_html("实绩预测d",++a);case 4:return juicer_html("实绩e",++a);case 5:return juicer_html("差异②-①）",++a);case 6:return juicer_html("差异③-①",++a);case 7:return juicer_html("差异③-②",++a);default:return""}}function moDocType(a){switch(a){case 0:return"已保存";case 1:return"未安排人员";case 2:return"已安排人员";case 3:return"生成备料单";case 4:return"待生产";case 5:return"生产中";case 6:return"已完工";case 7:return"已关闭";case 8:return"已取消";default:return""}}function moDociType(a){switch(a){case 1:return"APS";case 2:return"手工新增";default:return""}}function numberFormatZeroDefaultChar(d,b,c,a,g,f){var e=numberFormat2(d,b,c,a,g);return e.toString()==="0"?f:e}function initMineJuicer(){juicer.register("bracket",bracket);juicer.register("qrcode",qrcode);juicer.register("number_format1",number_format1);juicer.register("iseffective",iseffective);juicer.register("btnviewtype",btnviewtype);juicer.register("position",position);juicer.register("roletype",roletype);juicer.register("auditstatus",auditstatus);juicer.register("iSource",iSource);juicer.register("iSex",iSex);juicer.register("cOrderStatusDescByAuditStatus",cOrderStatusDescByAuditStatus);juicer.register("iOrderStatus",iOrderStatus);juicer.register("isLargeAmountExpense",isLargeAmountExpense);juicer.register("proposalmSourceType",proposalmSourceType);juicer.register("isscheduled",isscheduled);juicer.register("auditstate",auditstate);juicer.register("careertype",careertype);juicer.register("investmentdistinction",investmentdistinction);juicer.register("assettype",assettype);juicer.register("spriorreport",spriorreport);juicer.register("paymentprogress",paymentprogress);juicer.register("edittype",edittype);juicer.register("simport",simport);juicer.register("proposaldType",proposaldType);juicer.register("purchaseState",purchaseState);juicer.register("serviceType",serviceType);juicer.register("proposalChooseType",proposalChooseType);juicer.register("BudgetType",BudgetType);juicer.register("AuditStatus",AuditStatus);juicer.register("EffectiveStatus",EffectiveStatus);juicer.register("iBudgetType1",iBudgetType1);juicer.register("iBudgetType2",iBudgetType2);juicer.register("iBudgetTypeInvestmentGroupSummary",iBudgetTypeInvestmentGroupSummary);juicer.register("kFormat",kFormat);juicer.register("cItemTypeSituation",cItemTypeSituation);juicer.register("finishStatus",finishStatus);
juicer.register("isubitem",isubitem);juicer.register("iPurchaseRefType",iPurchaseRefType);juicer.register("numberFormatZeroDefaultChar",numberFormatZeroDefaultChar);juicer.register("previewUrl",previewUrl);juicer.register("icontrastnum",icontrastnum);juicer.register("iPeriodContrastBudgetType",iPeriodContrastBudgetType);juicer.register("moDocType",moDocType);juicer.register("moDociType",moDociType)}function jboltTableGetSpecCols(d,c){var a=jboltTableGetAllDatas(d,[c]);if(a&&a.length>0){var b=[];$.each(a,function(f,e){b.push(e[c])});return b.join(",")}return null}function getTableCheckedCount(b,a){return b.tbody.find("tr>td>.jbolt_table_checkbox>input[type='checkbox'][name='"+a+"']:checked").length}function getTableRowCount(a){return a.tbody.find("tr").length}var getDictMap=function(a,b){Ajax.post("/admin/dictionary/map",{key:a},function(c){if(c.state==="ok"){b(c.data)}})};function initMineRuleMap(){var a=[];addRuleToJBoltRuleMap(a)}function initMinePlugins(){var a={};addPluginsToJBoltPluginMgr(a)}initMineJuicer();initMinePlugins();initMineRuleMap();function showSwitchOrgDialog(b,a){if(window.self!==window.top){parent.showSwitchOrgDialog(b,a)}else{layer.closeAll();DialogUtil.openNewDialog({title:"切换登录组织",width:"500",height:"400",offset:"auto",zIndex:20220610,url:"admin/switchOrg",handler:a?a:refreshPjaxContainer})}}function postWithCallback(d,b,a,e){var c=parent.LayerMsgBox.loading("正在处理...",10);Ajax.post(d,b,function(f){parent.LayerMsgBox.close(c);if(f.state==="ok"){a(f.data)}else{if(e){e()}else{LayerMsgBox.alert(f.msg,2)}}},function(){parent.LayerMsgBox.close(c)})}function zoomPage(){var c=$(window).width(),b;if(c>=1024&&c<1400){b=c/1400;var a=$("html");a.css("zoom",b);a.css({"-moz-transform":"scale("+b+")"},{"-moz-transform-origin":"0 0"})}}function closeHandler(){parent.layer.close(parent.layer.getFrameIndex(window.name));window.parent.refreshJBoltTable()}(function(a){a.fn.tablesMergeCell=function(d,c){var e={automatic:true,cols:null,rows:null};var f=a.extend(e,d);return this.each(function(){var m=f.cols,l=f.rows;if(l==null){for(var j=m.length-1;m[j]!=undefined;j--){b(a(this),c,m[j])}}else{for(var j=m.length-1,h=f.rows.length-1;m[j]!=undefined;j--,h--){b(a(this),c,m[j],h)}}g(a(this))});function b(j,h,i,k){j.data("col-content","");j.data("col-rowspan",1);j.data("col-td",a());j.data("trNum",a("tbody tr",j).length);a("tbody tr",j).each(function(n){var q=a(this);var s=a("td:eq("+i+")",q);var p;if(h){p=s.attr("data-mergecel")}else{p=s.html()}if(f.automatic){if(j.data("col-content")==""){j.data("col-content",p);j.data("col-td",s)}else{if(j.data("col-content")==p){l()}else{m()}}}else{if(f.rows.length>0){if(f.rows[0].length==undefined){for(var o=0;o<f.rows.length;o++){r(f.rows[o],f.rows.length)}}else{for(var o=0;o<f.rows[k].length;o++){r(f.rows[k][o],f.rows[k].length)}}}}function r(u,t){if(n==u){if(j.data("col-content")==""){if(p==""){p=true}j.data("col-content",p);s.attr("rowspan",t)}else{s.hide()}}}function l(){var t=j.data("col-rowspan")+1;j.data("col-rowspan",t);s.hide();if(++n==j.data("trNum")){j.data("col-td").attr("rowspan",j.data("col-rowspan"))}}function m(){if(j.data("col-rowspan")!=1){j.data("col-td").attr("rowspan",j.data("col-rowspan"))}j.data("col-td",s);if(h){j.data("col-content",s.attr("data-mergecel"))}else{j.data("col-content",s.html())}j.data("col-rowspan",1)}})}function g(h){h.removeData()}}})(jQuery);$(function(){zoomPage()});