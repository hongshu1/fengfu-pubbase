package cn.jbolt.common.model;

import cn.jbolt._admin.codegen.CodeGenState;
import cn.jbolt._admin.codegen.CodeGenStyle;
import cn.jbolt.common.model.base.BaseCodeGen;
import cn.jbolt.core.annotation.TableBind;
import cn.jbolt.core.base.JBoltIDGenMode;
import cn.jbolt.core.enumutil.JBoltEnum;
import com.jfinal.kit.StrKit;

/**
 * 代码生成配置
 * Generated by JBolt.
 */
@SuppressWarnings("serial")
@TableBind(dataSource = "main" , table = "jb_code_gen" , primaryKey = "id" , idGenMode = JBoltIDGenMode.SNOWFLAKE)
public class CodeGen extends BaseCodeGen<CodeGen> {
    public String getStyleName() {
        return JBoltEnum.getTextByValue(CodeGenStyle.class, getStyle());
    }
    public String getStateName() {
        return JBoltEnum.getTextByValue(CodeGenState.class, getState());
    }

    public String getDatasourceInfo() {
        return getDatasourceName()+"["+getDatasourceRemark()+"]"+"_"+getDatabaseType();
    }

    public String getControllerPathWithoutFirstSlash(){
        String controllerPath = getControllerPath();
        return StrKit.isBlank(controllerPath)?null:controllerPath.substring(1);
    }
}

